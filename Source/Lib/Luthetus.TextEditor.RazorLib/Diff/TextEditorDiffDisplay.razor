@using Luthetus.TextEditor.RazorLib.ViewModel

<div class="bte_text-editor-diff @TextEditorService.ThemeCssClassString @CssClassString"
     style="@CssStyleString">
     
     @{
          var textEditorDiff = TextEditorService.DiffsCollectionWrap.Value.DiffModelsList
               .FirstOrDefault(x => x.DiffKey == TextEditorDiffKey);
     }
     
     <div class="bte_text-editor-diff-title">
          Longest Common Subsequence:
          
          <span class="bte_diff-longest-common-subsequence">
               @if (_mostRecentDiffResult is not null)
               {
                    @_mostRecentDiffResult.LongestCommonSubsequence
               }
               else
               {
                    @: SAMPLE_TEXT
               }
          </span>
     </div>
     
     @if (textEditorDiff is null)
     {
          <div>@nameof(textEditorDiff) was null</div>
     }
     else
     {
          <div class="bte_text-editor-diff-body">
               <div class="bte_text-editor-diff-comparison-item">
                    <TextEditorViewModelDisplay TextEditorViewModelKey="textEditorDiff.BeforeViewModelKey"/>
               </div>

               <div class="bte_text-editor-diff-body-separator"></div>

               <div class="bte_text-editor-diff-comparison-item">
                    <TextEditorViewModelDisplay TextEditorViewModelKey="textEditorDiff.AfterViewModelKey"/>
               </div>
          </div>
     }
</div>